{% extends "base.html" %}
{% block title %}{{ ad.manufacturer}} {{ ad.model}}{% endblock %}

{% block content %}
<a href="/" class="font-size-14 link-dark">Back to home</a>
<div class="pt-5 row">
    <div class="col-5">
        {% if ad.images | length > 0 %}
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="card-img-top" src="{{ ad.images[0] }}" alt="..."/>
                </div>
                {% for img in ad.images[1:] %}
                <div class="carousel-item">
                    <img src="{{ img }}" class="d-block w-100" alt="...">
                </div>
                {% endfor %}
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls"
                    data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls"
                    data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        {% else %}
        <img class="card-img-top" src="https://dummyimage.com/450x300/dee2e6/6c757d.jpg" alt="..."/>
        {% endif %}
    </div>
    <div class="col-7">
        <h1 class="fw-bolder">{{ad.manufacturer}} {{ad.model}} </h1>
        <p>{{ ad.year }} year</p>
        <h4>{{ ad.price }}$ ({{ ad.price_in_uah }}uah)</h4>
        <p class="font-size-14">Seller phone: <span class="text-decoration-underline">{{ ad.phone }}</span></p>
        <p>{{ ad.description }}</p>
        {% if ad.additional_details|length > 0 %}
        <div>
            {% for detail in ad.additional_details %}
            <span class="badge bg-secondary p-2">{{ detail }}</span>
            {% endfor %}
        </div>
        {% endif %}
    </div>
    <div class="pt-5">
        <a class="btn btn-dark" href="{{ url_for('show_create_or_update_form', uuid=ad.uuid) }}">Edit</a>
        <a class="btn btn-outline-dark" href="{{ url_for('delete', uuid=ad.uuid) }}">Delete</a>
    </div>
</div>
{% endblock %}

{% block javascript %}
<script>
    <!--    var myCarousel = document.querySelector('#carouselExample')-->
    <!--    var carousel = new bootstrap.Carousel(myCarousel)-->
    <!--    console.log(myCarousel, carousel)-->
</script>
{% endblock %}
