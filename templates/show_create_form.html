{% extends "base.html" %}

{% import 'components/forms.html' as forms %}

{% block title %}Home page{% endblock %}
{% block head %}
{{ super() }}
<style type="text/css">
    .important { color: #336699; }
</style>
{% endblock %}
{% block content %}
<h1>Create new ad</h1>
<a href="/" class="font-size-14 link-dark">Back to home</a>
<hr>
<div class="mt-5">
<form action="/create" method="POST" enctype="multipart/form-data" id="create_ad_form">
    {% for key, value in form_fields.items() %}
        <div class="mb-1">
            {{ forms.input(name=key, type=value.type, placeholder=value.placeholder, label=value.label) }}
        </div>
    {% endfor %}

  <div class="form-group row">
    <div class="col-sm-10">
      <button type="submit" class="btn btn-primary">Save</button>
    </div>
  </div>

</form>
</div>
{% endblock %}

{% block javascript %}
<script>
    let form = document.getElementById('create_ad_form');
    form.addEventListener('submit', (e) => {
        e.preventDefault();
        const formData = new FormData(form);
        const jsonObject = Object.fromEntries(formData);

        axios.post('/create', jsonObject);
    })
</script>
{% endblock %}